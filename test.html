<!DOCTYPE html>
<html>
<head>
  <title>Testing JavaScript Design Patterns</title>
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
</head>
<body>
  <h1>Testing JavaScript Design Patterns</h1>
  <p>Alt + Cmd + J to open the console (in Chrome at least).</p>
  <div class="container"></div>
  <hr>
  <div id="observer">
    <h2>Observer pattern</h2>
    <button id="addNewObserver">Add new Observer checkbox</button>
    <input id="mainCheckbox" type="checkbox">
    <div id="observersContainer"></div>
  </div>
  <hr>
  <div id="jquery-pubsub">
    <script id="userTemplate" type="text/html">
      <li><%= name %></li>
    </script>
    <script id="ratingsTemplate" type="text/html">
      <li><strong><%= title %></strong> was rated <%= rating %>/5</li>
    </script>

    <div class="sample-form">
      <p>
        <label for="twitter-handle">Twitter handle</label>
        <input type="text" name="twitter-handle">
      </p>
      <p>
        <label for="movie-seen">Name a movie you've seen</label>
        <input type="text" name="movie-seen">
      </p>
      <p>
        <label for="movie-rating">Rate the movie you saw</label>
        <select name="movie-rating">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5" selected>5</option>
        </select>
      </p>
      <p>
        <button id="add">Submit rating</button>
      </p>
    </div>
    <div class="summary-table">
      <div id="users">
        <h3>Recent users</h3>
      </div>
    </div>
      <div id="ratings">
        <h3>Recent movies rated</h3>
      </div>
    </div>
  </div>
  <hr>
  <div id="ajax-jquery-pubsub">
    <form id="flickrSearch">
      <input type="text" name="tag" id="query">
      <input type="submit" name="submit" value="submit">
    </form>
    <div id="lastQuery"></div>
    <ol id="searchResults"></ol>
    <script id="resultTemplate" type="text/html">
      <% _.each(items, function (item){ %>
        <li><img src="<%= item.media.m %>"></li>
      <% }); %>
    </script>
  </div>
  <hr>
  <div id="dom-flyweight">
    <div class="toggle" href="#">More Info (Address)
      <span class="info">This is more information</span>
    </div>
    <div class="toggle" href="#">Even more Info (Map)
      <span class="info">
        <iframe src="http://www.map-generator.net/extmap.php?name=London&amp;address=london%2C%20england&amp;width=500"></iframe>
      </span>
    </div>
  </div>
  <hr>
  <div id="mvvm-1">
    <p><input id="source" data-bind="value: contactName, valueUpdate: 'keyup'"></p>
    <div data-bind="visible: contactName().length > 10">
      You have a really long name!
    </div>
    <p>Contact name: <strong data-bind="text: contactName"></strong></p>
  </div>
  <div id="mvvm-2">
    <header>
      <h1>Todos</h1>
      <input id="new-todo" type="text" data-bind="value: current, valueUpdate: 'afterkeydown', enterKey: add" placeholder="What needs to be done?">
    </header>
    <section id="mvvm-2-main" data-bind="block: todos().length">
      <input id="toggle-all" type="checkbox" data-bind="checked: allCompleted">
      <label for="toggle-all">Mark all as complete</label>

      <ul id="todo-list" data-bind="foreach: todos">
        <!-- item -->
        <li data-bind="css: {done: done, editing: editing}">
          <div class="view" data-bind="event: {dblclick: $root.editItem}">
            <input class="toggle" type="checkbox" data-bind="checked: done">
            <label data-bind="text: content"></label>
            <a class="destroy" href="#" data-bind="click: $root.remove"></a>
          </div>
          <input class="edit" type="text" data-bind="value: content, valueUpdate: 'afterkeydown', enterKey: $root.stopEditing, selectAndFocus: editing, event: {blur: $root.stopEditing}">
        </li>
      </ul>
    </section>
  </div>


  <!-- Patterns -->
  <script type="text/javascript" charset="utf-8" src="constructor.js"></script>
  <script type="text/javascript" charset="utf-8" src="module.js"></script>
  <script type="text/javascript" charset="utf-8" src="revealing-module.js"></script>
  <script type="text/javascript" charset="utf-8" src="singleton.js"></script>
  <script type="text/javascript" charset="utf-8" src="observer.js"></script>
  <script type="text/javascript" charset="utf-8" src="mediator.js"></script>
  <script type="text/javascript" charset="utf-8" src="prototype.js"></script>
  <script type="text/javascript" charset="utf-8" src="command.js"></script>
  <script type="text/javascript" charset="utf-8" src="facade.js"></script>
  <script type="text/javascript" charset="utf-8" src="factory.js"></script>
  <script type="text/javascript" charset="utf-8" src="mixin.js"></script>
  <script type="text/javascript" charset="utf-8" src="decorator.js"></script>
  <script type="text/javascript" charset="utf-8" src="flyweight.js"></script>
  <script type="text/javascript" charset="utf-8" src="mvc.js"></script>
  <script type="text/javascript" charset="utf-8" src="mvp.js"></script>
  <script type="text/javascript" charset="utf-8" src="mvvm.js"></script>
</body>
</html>
